---
version: 1
interactions:
- request:
    body: <?xml version="1.0" encoding="UTF-8"?><methodCall><methodName>one.host.allocate</methodName><params><param><value><string>oneadmin:qwerty123</string></value></param><param><value><string>the_best_host</string></value></param><param><value><string>kvm</string></value></param><param><value><string>kvm</string></value></param><param><value><int>101</int></value></param></params></methodCall>
    form: {}
    headers:
      Content-Type:
      - text/xml
    url: http://localhost:2633/RPC2
    method: POST
  response:
    body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<methodResponse>\r\n<params>\r\n<param><value><array><data>\r\n<value><boolean>1</boolean></value>\r\n<value><i4>7</i4></value>\r\n<value><i4>0</i4></value>\r\n</data></array></value></param>\r\n</params>\r\n</methodResponse>\r\n"
    headers:
      Connection:
      - Keep-Alive
      Content-Length:
      - "251"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Thu, 18 Oct 2018 11:03:16 UTC
      Keep-Alive:
      - timeout=15, max=30
      Server:
      - Xmlrpc-c_Abyss/1.40.0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <?xml version="1.0" encoding="UTF-8"?><methodCall><methodName>one.host.info</methodName><params><param><value><string>oneadmin:qwerty123</string></value></param><param><value><int>7</int></value></param></params></methodCall>
    form: {}
    headers:
      Content-Type:
      - text/xml
    url: http://localhost:2633/RPC2
    method: POST
  response:
    body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<methodResponse>\r\n<params>\r\n<param><value><array><data>\r\n<value><boolean>1</boolean></value>\r\n<value><string>&lt;HOST&gt;&lt;ID&gt;7&lt;/ID&gt;&lt;NAME&gt;the_best_host&lt;/NAME&gt;&lt;STATE&gt;0&lt;/STATE&gt;&lt;IM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/IM_MAD&gt;&lt;VM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/VM_MAD&gt;&lt;LAST_MON_TIME&gt;0&lt;/LAST_MON_TIME&gt;&lt;CLUSTER_ID&gt;101&lt;/CLUSTER_ID&gt;&lt;CLUSTER&gt;hello&lt;/CLUSTER&gt;&lt;HOST_SHARE&gt;&lt;DISK_USAGE&gt;0&lt;/DISK_USAGE&gt;&lt;MEM_USAGE&gt;0&lt;/MEM_USAGE&gt;&lt;CPU_USAGE&gt;0&lt;/CPU_USAGE&gt;&lt;MAX_DISK&gt;0&lt;/MAX_DISK&gt;&lt;MAX_MEM&gt;0&lt;/MAX_MEM&gt;&lt;MAX_CPU&gt;0&lt;/MAX_CPU&gt;&lt;FREE_DISK&gt;0&lt;/FREE_DISK&gt;&lt;FREE_MEM&gt;0&lt;/FREE_MEM&gt;&lt;FREE_CPU&gt;0&lt;/FREE_CPU&gt;&lt;USED_DISK&gt;0&lt;/USED_DISK&gt;&lt;USED_MEM&gt;0&lt;/USED_MEM&gt;&lt;USED_CPU&gt;0&lt;/USED_CPU&gt;&lt;RUNNING_VMS&gt;0&lt;/RUNNING_VMS&gt;&lt;DATASTORES&gt;&lt;/DATASTORES&gt;&lt;PCI_DEVICES&gt;&lt;/PCI_DEVICES&gt;&lt;/HOST_SHARE&gt;&lt;VMS&gt;&lt;/VMS&gt;&lt;TEMPLATE&gt;&lt;IM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/IM_MAD&gt;&lt;RESERVED_CPU&gt;&lt;![CDATA[]]&gt;&lt;/RESERVED_CPU&gt;&lt;RESERVED_MEM&gt;&lt;![CDATA[]]&gt;&lt;/RESERVED_MEM&gt;&lt;VM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/VM_MAD&gt;&lt;/TEMPLATE&gt;&lt;/HOST&gt;</string></value>\r\n<value><i4>0</i4></value>\r\n</data></array></value></param>\r\n</params>\r\n</methodResponse>\r\n"
    headers:
      Connection:
      - Keep-Alive
      Content-Length:
      - "1434"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Thu, 18 Oct 2018 11:03:16 UTC
      Keep-Alive:
      - timeout=15, max=30
      Server:
      - Xmlrpc-c_Abyss/1.40.0
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: <?xml version="1.0" encoding="UTF-8"?><methodCall><methodName>one.host.info</methodName><params><param><value><string>oneadmin:qwerty123</string></value></param><param><value><int>7</int></value></param></params></methodCall>
    form: {}
    headers:
      Content-Type:
      - text/xml
    url: http://localhost:2633/RPC2
    method: POST
  response:
    body: "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<methodResponse>\r\n<params>\r\n<param><value><array><data>\r\n<value><boolean>1</boolean></value>\r\n<value><string>&lt;HOST&gt;&lt;ID&gt;7&lt;/ID&gt;&lt;NAME&gt;the_best_host&lt;/NAME&gt;&lt;STATE&gt;0&lt;/STATE&gt;&lt;IM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/IM_MAD&gt;&lt;VM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/VM_MAD&gt;&lt;LAST_MON_TIME&gt;0&lt;/LAST_MON_TIME&gt;&lt;CLUSTER_ID&gt;101&lt;/CLUSTER_ID&gt;&lt;CLUSTER&gt;hello&lt;/CLUSTER&gt;&lt;HOST_SHARE&gt;&lt;DISK_USAGE&gt;0&lt;/DISK_USAGE&gt;&lt;MEM_USAGE&gt;0&lt;/MEM_USAGE&gt;&lt;CPU_USAGE&gt;0&lt;/CPU_USAGE&gt;&lt;MAX_DISK&gt;0&lt;/MAX_DISK&gt;&lt;MAX_MEM&gt;0&lt;/MAX_MEM&gt;&lt;MAX_CPU&gt;0&lt;/MAX_CPU&gt;&lt;FREE_DISK&gt;0&lt;/FREE_DISK&gt;&lt;FREE_MEM&gt;0&lt;/FREE_MEM&gt;&lt;FREE_CPU&gt;0&lt;/FREE_CPU&gt;&lt;USED_DISK&gt;0&lt;/USED_DISK&gt;&lt;USED_MEM&gt;0&lt;/USED_MEM&gt;&lt;USED_CPU&gt;0&lt;/USED_CPU&gt;&lt;RUNNING_VMS&gt;0&lt;/RUNNING_VMS&gt;&lt;DATASTORES&gt;&lt;/DATASTORES&gt;&lt;PCI_DEVICES&gt;&lt;/PCI_DEVICES&gt;&lt;/HOST_SHARE&gt;&lt;VMS&gt;&lt;/VMS&gt;&lt;TEMPLATE&gt;&lt;IM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/IM_MAD&gt;&lt;RESERVED_CPU&gt;&lt;![CDATA[]]&gt;&lt;/RESERVED_CPU&gt;&lt;RESERVED_MEM&gt;&lt;![CDATA[]]&gt;&lt;/RESERVED_MEM&gt;&lt;VM_MAD&gt;&lt;![CDATA[kvm]]&gt;&lt;/VM_MAD&gt;&lt;/TEMPLATE&gt;&lt;/HOST&gt;</string></value>\r\n<value><i4>0</i4></value>\r\n</data></array></value></param>\r\n</params>\r\n</methodResponse>\r\n"
    headers:
      Connection:
      - Keep-Alive
      Content-Length:
      - "1434"
      Content-Type:
      - text/xml; charset=utf-8
      Date:
      - Thu, 18 Oct 2018 11:03:16 UTC
      Keep-Alive:
      - timeout=15, max=30
      Server:
      - Xmlrpc-c_Abyss/1.40.0
    status: 200 OK
    code: 200
    duration: ""
